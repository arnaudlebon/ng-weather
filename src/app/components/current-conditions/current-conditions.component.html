<div>
  <ul class="nav nav-tabs">
    <li *ngFor="let location of currentConditionsByZip(); let i = index" [class.active]="i === selectedIndex">
      <a href="javascript:void(0)" (click)="selectLocation(location, i)">
        {{location.data.name}} ({{location.zip}}) 
        <span class="close-tab" (click)="locationService.removeLocation(location.zip); $event.stopPropagation();">&times;</span>
      </a>
    </li>
  </ul>
  <div *ngIf="selectedLocation">
    <div class="well flex">
      <div>
        <h3>{{selectedLocation.data.name}} ({{selectedLocation.zip}})</h3>
        <h4>Current conditions: {{selectedLocation.data.weather[0].main}}</h4>
        <h4>Temperatures today:</h4>
        <p>
          Current {{selectedLocation.data.main.temp | number:'.0-0'}}
          - Max {{selectedLocation.data.main.temp_max | number:'.0-0'}}
          - Min {{selectedLocation.data.main.temp_min | number:'.0-0'}}
        </p>
        <p>
          <a [routerLink]="['/forecast', selectedLocation.zip]">Show 5-day forecast for {{selectedLocation.data.name}}</a>
        </p>
      </div>
      <div>
        <img [src]="weatherService.getWeatherIcon(selectedLocation.data.weather[0].id)">
      </div>
    </div>
  </div>
</div>
